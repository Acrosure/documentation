# ภาพรวมการเชื่อมต่อ {{id:integration-overall}}

## ขั้นตอนการทำงาน {{id:integration-flow}}

ในกระบวนการสั่งซื้อประกันภัยผ่าน Acrosure จะประกอบไปด้วยขั้นตอนหลักๆ 3 ขั้นตอนดังนี้

1.  ผู้พัฒนาเลือกใช้ฟอร์มสั่งซื้อสำเร็จรูป หรือเรียก API เพื่อสร้างฟอร์มสำหรับสั่งซื้อเอง
    จากนั้น redirect ผู้ใช้ไปยังฟอร์มเพื่อให้ผู้ใช้กรอกข้อมูล
2.  เมื่อผู้ใช้กรอกข้อมูลเรียบร้อยแล้ว ผู้ใช้จะถูก redirect กลับมายังเว็บไซต์ของผู้ขาย
    (ตาม URL ที่นักพัฒนาระบุ) เพื่อให้ดำเนินการชำระเงินต่อไป
3.  เมื่อชำระเงินเรียบร้อยแล้ว ให้เรียก API เพื่อยืนยันการสั่งซื้อจากเซิร์ฟเวอร์ของผู้พัฒนา

## รูปแบบการเชื่อมต่อ {{id:integration-types}}

เนื่องจากข้อมูลที่ต้องใช้ในการซื้อกรมธรรม์ประกันภัยมีความซับซ้อน การ implement ระบบเพื่อเชื่อมต่อเข้ากับ Dhipaya Insurance Gateway จึงสามารถทำได้ 3 แบบด้วยกัน ดังนี้

### 1. [เชื่อมต่อแบบ Form](#integration-form)

การเชื่อมต่อระบบแบบ form นั้นเป็นการเชื่อมต่อที่ง่ายกว่า โดยจะเป็นการ redirect ลูกค้ามาที่หน้า form ในการซื้อประกันภัยของระบบ Dhipaya Insurance Gateway และเมื่อลูกค้ากรอกข้อมูลครบถ้วนแล้ว จะทำการ redirect กลับไปยังหน้าเว็บไซต์ของ partner เพื่อทำการดำเนินการขั้นตอนต่อไป

### 2. [เชื่อมต่อแบบ Hybrid](#integration-hybrid)

การเชื่อมต่อแบบ Hybrid คือการเชื่อมต่อที่ผสมทั้งแบบ form และแบบ API โดยจะเหมาะสำหรับระบบที่มีข้อมูลลูกค้าอยู่แล้วบางส่วน และต้องการให้ลูกค้ากรอกเพิ่มเติมในส่วนที่ขาด

### 3. [เชื่อมต่อแบบ API](#integration-api)

การเชื่อมต่อระบบแบบ API นั้นเป็นการเชื่อมต่อที่ซับซ้อนกว่า เพราะการซื้อกรมธรรม์ประกันภัยนั้นมีข้อมูลที่ต้องใช้หลากหลาย และบาง field ข้อมูลก็มีเงื่อนไขแตกต่างกันไป ข้อดีของการเชื่อมต่อแบบนี้คือลูกค้าจะได้รับประสบการณ์ที่ดีกว่าในการซื้อสินค้าหรือบริการ
